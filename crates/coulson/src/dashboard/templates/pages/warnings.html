{% extends "base.html" %}
{% block content %}
{% if not has_warnings %}
<div class="rounded-xl border border-zinc-200 bg-white p-12 text-center shadow-sm dark:border-zinc-800 dark:bg-zinc-900">
  <svg class="mx-auto h-10 w-10 text-zinc-300 dark:text-zinc-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"/></svg>
  <p class="mt-3 text-sm font-medium text-zinc-500 dark:text-zinc-400">No scan data available</p>
  <p class="mt-1 text-xs text-zinc-400 dark:text-zinc-500">Run a scan to check for issues.</p>
</div>
{% else %}
<div class="rounded-xl border border-zinc-200 bg-white p-6 shadow-sm mb-6 dark:border-zinc-800 dark:bg-zinc-900">
  <h2 class="text-sm font-semibold text-zinc-900 dark:text-zinc-100">Last Scan Summary</h2>
  <dl class="mt-3 grid grid-cols-2 sm:grid-cols-5 gap-4">
    <div><dt class="text-xs text-zinc-500 dark:text-zinc-400">Discovered</dt><dd class="text-lg font-semibold">{{ scan.discovered }}</dd></div>
    <div><dt class="text-xs text-zinc-500 dark:text-zinc-400">Inserted</dt><dd class="text-lg font-semibold text-emerald-600 dark:text-emerald-400">{{ scan.inserted }}</dd></div>
    <div><dt class="text-xs text-zinc-500 dark:text-zinc-400">Updated</dt><dd class="text-lg font-semibold text-blue-600 dark:text-blue-400">{{ scan.updated }}</dd></div>
    <div><dt class="text-xs text-zinc-500 dark:text-zinc-400">Pruned</dt><dd class="text-lg font-semibold text-amber-600 dark:text-amber-400">{{ scan.pruned }}</dd></div>
    <div><dt class="text-xs text-zinc-500 dark:text-zinc-400">Skipped (manual)</dt><dd class="text-lg font-semibold text-zinc-500">{{ scan.skipped_manual }}</dd></div>
  </dl>
</div>

{% if not scan.has_issues %}
<div class="rounded-xl border border-emerald-200 bg-emerald-50 p-8 text-center dark:border-emerald-800/50 dark:bg-emerald-900/20">
  <svg class="mx-auto h-8 w-8 text-emerald-500 dark:text-emerald-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
  <p class="mt-2 font-medium text-emerald-800 dark:text-emerald-300">All clear â€” no warnings</p>
</div>
{% else %}

{% if conflict_domains | length > 0 %}
<div class="rounded-xl border border-amber-200 bg-amber-50 p-6 mb-4 dark:border-amber-800/50 dark:bg-amber-900/20">
  <h3 class="text-sm font-semibold text-amber-800 dark:text-amber-300 flex items-center gap-2">
    <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"/></svg>
    Domain Conflicts
  </h3>
  <ul class="mt-3 space-y-1">
{% for domain in conflict_domains %}
    <li class="text-sm text-amber-700 dark:text-amber-400 font-mono">{{ domain }}</li>
{% endfor %}
  </ul>
</div>
{% endif %}

{% if parse_warnings | length > 0 %}
<div class="rounded-xl border border-amber-200 bg-amber-50 p-6 dark:border-amber-800/50 dark:bg-amber-900/20">
  <h3 class="text-sm font-semibold text-amber-800 dark:text-amber-300 flex items-center gap-2">
    <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"/></svg>
    Parse Warnings
  </h3>
  <ul class="mt-3 space-y-1">
{% for warn in parse_warnings %}
    <li class="text-sm text-amber-700 dark:text-amber-400">{{ warn }}</li>
{% endfor %}
  </ul>
</div>
{% endif %}

{% endif %}
{% endif %}
{% endblock content %}
